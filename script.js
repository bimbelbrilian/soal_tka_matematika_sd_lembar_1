class KuisMatematika {
    constructor() {
        this.soalData = {
            "judul-soal001": "SOAL TKA MATEMATIKA SD/MI LEMBAR 1",
  "soal": [
    {
      "id": "soal001-nomor001",
      "soal": "Hasil dari 28 + 45 : 9 - 6 × 3 adalah...",
      "jawaban": 15,
      "pilihan": [
        {"id": "soal001-nomor001-A", "nilai": 19},
        {"id": "soal001-nomor001-B", "nilai": 21},
        {"id": "soal001-nomor001-C", "nilai": 25},
        {"id": "soal001-nomor001-D", "nilai": 31}
      ]
    },
    {
      "id": "soal001-nomor002",
      "soal": "FPB dari 36 dan 60 adalah...",
      "jawaban": 12,
      "pilihan": [
        {"id": "soal001-nomor002-A", "nilai": 6},
        {"id": "soal001-nomor002-B", "nilai": 12},
        {"id": "soal001-nomor002-C", "nilai": 18},
        {"id": "soal001-nomor002-D", "nilai": 24}
      ]
    },
    {
      "id": "soal001-nomor003",
      "soal": "KPK dari 12, 15, dan 20 adalah...",
      "jawaban": 60,
      "pilihan": [
        {"id": "soal001-nomor003-A", "nilai": 50},
        {"id": "soal001-nomor003-B", "nilai": 60},
        {"id": "soal001-nomor003-C", "nilai": 75},
        {"id": "soal001-nomor003-D", "nilai": 90}
      ]
    },
    {
      "id": "soal001-nomor004",
      "soal": "Bentuk desimal dari 5/8 adalah...",
      "jawaban": 0.625,
      "pilihan": [
        {"id": "soal001-nomor004-A", "nilai": 0.525},
        {"id": "soal001-nomor004-B", "nilai": 0.575},
        {"id": "soal001-nomor004-C", "nilai": 0.625},
        {"id": "soal001-nomor004-D", "nilai": 0.675}
      ]
    },
    {
      "id": "soal001-nomor005",
      "soal": "35% dari 800 adalah...",
      "jawaban": 280,
      "pilihan": [
        {"id": "soal001-nomor005-A", "nilai": 250},
        {"id": "soal001-nomor005-B", "nilai": 280},
        {"id": "soal001-nomor005-C", "nilai": 320},
        {"id": "soal001-nomor005-D", "nilai": 350}
      ]
    },
    {
      "id": "soal001-nomor006",
      "soal": "Hasil dari 2¼ + 1,75 - 1½ adalah...",
      "jawaban": 2.50,
      "pilihan": [
        {"id": "soal001-nomor006-A", "nilai": 2.25},
        {"id": "soal001-nomor006-B", "nilai": 2.50},
        {"id": "soal001-nomor006-C", "nilai": 2.75},
        {"id": "soal001-nomor006-D", "nilai": 3.00}
      ]
    },
    {
      "id": "soal001-nomor007",
      "soal": "Urutan pecahan dari yang terkecil: 2/3, 0,65, 5/8, 70% adalah...",
      "jawaban": "5/8, 0,65, 2/3, 70%",
      "pilihan": [
        {"id": "soal001-nomor007-A", "nilai": "5/8, 0,65, 2/3, 70%"},
        {"id": "soal001-nomor007-B", "nilai": "5/8, 0,65, 70%, 2/3"},
        {"id": "soal001-nomor007-C", "nilai": "0,65, 5/8, 70%, 2/3"},
        {"id": "soal001-nomor007-D", "nilai": "0,65, 5/8, 2/3, 70%"}
      ]
    },
    {
      "id": "soal001-nomor008",
      "soal": "Hasil dari 125 - (48 : 6) + 12 × 3 adalah...",
      "jawaban": 153,
      "pilihan": [
        {"id": "soal001-nomor008-A", "nilai": 143},
        {"id": "soal001-nomor008-B", "nilai": 149},
        {"id": "soal001-nomor008-C", "nilai": 153},
        {"id": "soal001-nomor008-D", "nilai": 157}
      ]
    },
    {
      "id": "soal001-nomor009",
      "soal": "Pak Rudi menabung Rp 1.200.000,00 dengan bunga 6% per tahun. Bunga yang diterima setelah 9 bulan adalah...",
      "jawaban": 54000.00,
      "pilihan": [
        {"id": "soal001-nomor009-A", "nilai": 54000.00},
        {"id": "soal001-nomor009-B", "nilai": 60000.00},
        {"id": "soal001-nomor009-C", "nilai": 64000.00},
        {"id": "soal001-nomor009-D", "nilai": 72000.00}
      ]
    },
    {
      "id": "soal001-nomor010",
      "soal": "Hasil dari 3/4 × 2/3 + 1/2 adalah...",
      "jawaban": 1,
      "pilihan": [
        {"id": "soal001-nomor010-A", "nilai": 1},
        {"id": "soal001-nomor010-B", "nilai": "1¼"},
        {"id": "soal001-nomor010-C", "nilai": "1½"},
        {"id": "soal001-nomor010-D", "nilai": "1¾"}
      ]
    },
    {
      "id": "soal001-nomor011",
      "soal": "Harga sebuah buku Rp 15.000,00. Jika mendapat diskon 20%, harga buku setelah diskon adalah...",
      "jawaban": 12000.00,
      "pilihan": [
        {"id": "soal001-nomor011-A", "nilai": 11000.00},
        {"id": "soal001-nomor011-B", "nilai": 12000.00},
        {"id": "soal001-nomor011-C", "nilai": 12500.00},
        {"id": "soal001-nomor011-D", "nilai": 13000.00}
      ]
    },
    {
      "id": "soal001-nomor012",
      "soal": "Perbandingan umur Andi dan Budi adalah 3 : 5. Jika jumlah umur mereka 32 tahun, umur Budi adalah...",
      "jawaban": 20,
      "pilihan": [
        {"id": "soal001-nomor012-A", "nilai": 12},
        {"id": "soal001-nomor012-B", "nilai": 15},
        {"id": "soal001-nomor012-C", "nilai": 18},
        {"id": "soal001-nomor012-D", "nilai": 20}
      ]
    },
    {
      "id": "soal001-nomor013",
      "soal": "Hasil dari 1,25 × 0,8 : 0,5 adalah...",
      "jawaban": 2.0,
      "pilihan": [
        {"id": "soal001-nomor013-A", "nilai": 1.5},
        {"id": "soal001-nomor013-B", "nilai": 2.0},
        {"id": "soal001-nomor013-C", "nilai": 2.5},
        {"id": "soal001-nomor013-D", "nilai": 3.0}
      ]
    },
    {
      "id": "soal001-nomor014",
      "soal": "Bilangan prima antara 20 dan 30 adalah...",
      "jawaban": "23, 29",
      "pilihan": [
        {"id": "soal001-nomor014-A", "nilai": "21, 23, 27"},
        {"id": "soal001-nomor014-B", "nilai": "21, 23, 29"},
        {"id": "soal001-nomor014-C", "nilai": "23, 27, 29"},
        {"id": "soal001-nomor014-D", "nilai": "23, 29"}
      ]
    },
    {
      "id": "soal001-nomor015",
      "soal": "Hasil dari 4² + √144 - 3³ adalah...",
      "jawaban": 1,
      "pilihan": [
        {"id": "soal001-nomor015-A", "nilai": 1},
        {"id": "soal001-nomor015-B", "nilai": 3},
        {"id": "soal001-nomor015-C", "nilai": 5},
        {"id": "soal001-nomor015-D", "nilai": 7}
      ]
    },
    {
      "id": "soal001-nomor016",
      "soal": "Keliling sebuah persegi panjang 54 cm. Jika panjangnya 18 cm, maka lebarnya adalah...",
      "jawaban": 9,
      "pilihan": [
        {"id": "soal001-nomor016-A", "nilai": 8},
        {"id": "soal001-nomor016-B", "nilai": 9},
        {"id": "soal001-nomor016-C", "nilai": 10},
        {"id": "soal001-nomor016-D", "nilai": 12}
      ]
    },
    {
      "id": "soal001-nomor017",
      "soal": "Luas sebuah segitiga 96 cm². Jika alasnya 16 cm, maka tingginya adalah...",
      "jawaban": 12,
      "pilihan": [
        {"id": "soal001-nomor017-A", "nilai": 10},
        {"id": "soal001-nomor017-B", "nilai": 12},
        {"id": "soal001-nomor017-C", "nilai": 14},
        {"id": "soal001-nomor017-D", "nilai": 16}
      ]
    },
    {
      "id": "soal001-nomor018",
      "soal": "Sebuah kubus memiliki panjang rusuk 15 cm. Volume kubus tersebut adalah...",
      "jawaban": 3375,
      "pilihan": [
        {"id": "soal001-nomor018-A", "nilai": 3275},
        {"id": "soal001-nomor018-B", "nilai": 3375},
        {"id": "soal001-nomor018-C", "nilai": 3475},
        {"id": "soal001-nomor018-D", "nilai": 3575}
      ]
    },
    {
      "id": "soal001-nomor019",
      "soal": "Sebuah lingkaran memiliki diameter 42 cm. Luas lingkaran tersebut adalah... (π = 22/7)",
      "jawaban": 1386,
      "pilihan": [
        {"id": "soal001-nomor019-A", "nilai": 1386},
        {"id": "soal001-nomor019-B", "nilai": 1486},
        {"id": "soal001-nomor019-C", "nilai": 1586},
        {"id": "soal001-nomor019-D", "nilai": 1686}
      ]
    },
    {
      "id": "soal001-nomor020",
      "soal": "Sebuah balok memiliki panjang 20 cm, lebar 12 cm, dan tinggi 8 cm. Luas permukaan balok tersebut adalah...",
      "jawaban": 992,
      "pilihan": [
        {"id": "soal001-nomor020-A", "nilai": 892},
        {"id": "soal001-nomor020-B", "nilai": 912},
        {"id": "soal001-nomor020-C", "nilai": 932},
        {"id": "soal001-nomor020-D", "nilai": 952}
      ]
    },
    {
      "id": "soal001-nomor021",
      "soal": "3,5 km + 450 m + 2.500 cm = ... meter",
      "jawaban": 3975,
      "pilihan": [
        {"id": "soal001-nomor021-A", "nilai": 3945},
        {"id": "soal001-nomor021-B", "nilai": 3955},
        {"id": "soal001-nomor021-C", "nilai": 3965},
        {"id": "soal001-nomor021-D", "nilai": 3975}
      ]
    },
    {
      "id": "soal001-nomor022",
      "soal": "2 jam 35 menit + 3 jam 50 menit = ... menit",
      "jawaban": 385,
      "pilihan": [
        {"id": "soal001-nomor022-A", "nilai": 365},
        {"id": "soal001-nomor022-B", "nilai": 375},
        {"id": "soal001-nomor022-C", "nilai": 385},
        {"id": "soal001-nomor022-D", "nilai": 395}
      ]
    },
    {
      "id": "soal001-nomor023",
      "soal": "Sebuah akuarium berukuran panjang 90 cm, lebar 40 cm, dan tinggi 35 cm. Volume akuarium tersebut adalah... liter",
      "jawaban": 126,
      "pilihan": [
        {"id": "soal001-nomor023-A", "nilai": 116},
        {"id": "soal001-nomor023-B", "nilai": 126},
        {"id": "soal001-nomor023-C", "nilai": 136},
        {"id": "soal001-nomor023-D", "nilai": 146}
      ]
    },
    {
      "id": "soal001-nomor024",
      "soal": "Ibu membeli 2,25 kg gula, 1.750 gram tepung, dan 0,5 kg margarin. Total berat belanjaan Ibu adalah... gram",
      "jawaban": 4500,
      "pilihan": [
        {"id": "soal001-nomor024-A", "nilai": 4250},
        {"id": "soal001-nomor024-B", "nilai": 4500},
        {"id": "soal001-nomor024-C", "nilai": 4750},
        {"id": "soal001-nomor024-D", "nilai": 5000}
      ]
    },
    {
      "id": "soal001-nomor025",
      "soal": "Sebuah mobil menempuh jarak 240 km dengan kecepatan 60 km/jam. Waktu yang diperlukan adalah... jam",
      "jawaban": 4.0,
      "pilihan": [
        {"id": "soal001-nomor025-A", "nilai": 3.5},
        {"id": "soal001-nomor025-B", "nilai": 4.0},
        {"id": "soal001-nomor025-C", "nilai": 4.5},
        {"id": "soal001-nomor025-D", "nilai": 5.0}
      ]
    },
    {
      "id": "soal001-nomor026",
      "soal": "Keliling sebuah persegi 84 cm. Luas persegi tersebut adalah...",
      "jawaban": 441,
      "pilihan": [
        {"id": "soal001-nomor026-A", "nilai": 400},
        {"id": "soal001-nomor026-B", "nilai": 441},
        {"id": "soal001-nomor026-C", "nilai": 484},
        {"id": "soal001-nomor026-D", "nilai": 529}
      ]
    },
    {
      "id": "soal001-nomor027",
      "soal": "Sebuah segitiga sama kaki memiliki keliling 56 cm. Jika panjang alasnya 20 cm, maka panjang masing-masing sisi yang sama adalah...",
      "jawaban": 18,
      "pilihan": [
        {"id": "soal001-nomor027-A", "nilai": 16},
        {"id": "soal001-nomor027-B", "nilai": 17},
        {"id": "soal001-nomor027-C", "nilai": 18},
        {"id": "soal001-nomor027-D", "nilai": 19}
      ]
    },
    {
      "id": "soal001-nomor028",
      "soal": "Volume sebuah balok 2.400 cm³. Jika panjang 20 cm dan lebar 10 cm, maka tinggi balok tersebut adalah...",
      "jawaban": 12,
      "pilihan": [
        {"id": "soal001-nomor028-A", "nilai": 10},
        {"id": "soal001-nomor028-B", "nilai": 12},
        {"id": "soal001-nomor028-C", "nilai": 14},
        {"id": "soal001-nomor028-D", "nilai": 16}
      ]
    },
    {
      "id": "soal001-nomor029",
      "soal": "Jari-jari sebuah lingkaran 28 cm. Keliling lingkaran tersebut adalah... (π = 22/7)",
      "jawaban": 176,
      "pilihan": [
        {"id": "soal001-nomor029-A", "nilai": 168},
        {"id": "soal001-nomor029-B", "nilai": 172},
        {"id": "soal001-nomor029-C", "nilai": 176},
        {"id": "soal001-nomor029-D", "nilai": 180}
      ]
    },
    {
      "id": "soal001-nomor030",
      "soal": "Sebuah lapangan berbentuk persegi panjang dengan panjang 45 m dan lebar 30 m. Keliling lapangan tersebut adalah...",
      "jawaban": 150,
      "pilihan": [
        {"id": "soal001-nomor030-A", "nilai": 140},
        {"id": "soal001-nomor030-B", "nilai": 145},
        {"id": "soal001-nomor030-C", "nilai": 150},
        {"id": "soal001-nomor030-D", "nilai": 155}
      ]
    },
    {
      "id": "soal001-nomor031",
      "soal": "Sebuah prisma segitiga memiliki alas berbentuk segitiga siku-siku dengan panjang sisi 6 cm, 8 cm, dan 10 cm. Jika tinggi prisma 15 cm, volume prisma tersebut adalah...",
      "jawaban": 360,
      "pilihan": [
        {"id": "soal001-nomor031-A", "nilai": 340},
        {"id": "soal001-nomor031-B", "nilai": 350},
        {"id": "soal001-nomor031-C", "nilai": 360},
        {"id": "soal001-nomor031-D", "nilai": 370}
      ]
    },
    {
      "id": "soal001-nomor032",
      "soal": "Sebuah tabung memiliki diameter alas 14 cm dan tinggi 20 cm. Volume tabung tersebut adalah... (π = 22/7)",
      "jawaban": 3080,
      "pilihan": [
        {"id": "soal001-nomor032-A", "nilai": 2980},
        {"id": "soal001-nomor032-B", "nilai": 3080},
        {"id": "soal001-nomor032-C", "nilai": 3180},
        {"id": "soal001-nomor032-D", "nilai": 3280}
      ]
    },
    {
      "id": "soal001-nomor033",
      "soal": "Sebuah kerucut memiliki jari-jari alas 7 cm dan tinggi 24 cm. Volume kerucut tersebut adalah... (π = 22/7)",
      "jawaban": 1232,
      "pilihan": [
        {"id": "soal001-nomor033-A", "nilai": 1122},
        {"id": "soal001-nomor033-B", "nilai": 1222},
        {"id": "soal001-nomor033-C", "nilai": 1232},
        {"id": "soal001-nomor033-D", "nilai": 1332}
      ]
    },
    {
      "id": "soal001-nomor034",
      "soal": "Besar sudut pada segitiga sama sisi adalah...",
      "jawaban": 60,
      "pilihan": [
        {"id": "soal001-nomor034-A", "nilai": 45},
        {"id": "soal001-nomor034-B", "nilai": 60},
        {"id": "soal001-nomor034-C", "nilai": 90},
        {"id": "soal001-nomor034-D", "nilai": 120}
      ]
    },
    {
      "id": "soal001-nomor035",
      "soal": "Sudut yang besarnya 135° termasuk sudut...",
      "jawaban": "Tumpul",
      "pilihan": [
        {"id": "soal001-nomor035-A", "nilai": "Lancip"},
        {"id": "soal001-nomor035-B", "nilai": "Siku-siku"},
        {"id": "soal001-nomor035-C", "nilai": "Tumpul"},
        {"id": "soal001-nomor035-D", "nilai": "Refleks"}
      ]
    },
    {
      "id": "soal001-nomor036",
      "soal": "Sebuah limas segiempat beraturan memiliki panjang sisi alas 10 cm dan tinggi limas 12 cm. Volume limas tersebut adalah...",
      "jawaban": 400,
      "pilihan": [
        {"id": "soal001-nomor036-A", "nilai": 380},
        {"id": "soal001-nomor036-B", "nilai": 390},
        {"id": "soal001-nomor036-C", "nilai": 400},
        {"id": "soal001-nomor036-D", "nilai": 410}
      ]
    },
    {
      "id": "soal001-nomor037",
      "soal": "Sebuah bola memiliki jari-jari 21 cm. Volume bola tersebut adalah... (π = 22/7)",
      "jawaban": 38808,
      "pilihan": [
        {"id": "soal001-nomor037-A", "nilai": 38808},
        {"id": "soal001-nomor037-B", "nilai": 38818},
        {"id": "soal001-nomor037-C", "nilai": 38828},
        {"id": "soal001-nomor037-D", "nilai": 38838}
      ]
    },
    {
      "id": "soal001-nomor038",
      "soal": "Sebuah trapesium memiliki panjang sisi sejajar 12 cm dan 18 cm, serta tinggi 8 cm. Luas trapesium tersebut adalah...",
      "jawaban": 120,
      "pilihan": [
        {"id": "soal001-nomor038-A", "nilai": 110},
        {"id": "soal001-nomor038-B", "nilai": 115},
        {"id": "soal001-nomor038-C", "nilai": 120},
        {"id": "soal001-nomor038-D", "nilai": 125}
      ]
    },
    {
      "id": "soal001-nomor039",
      "soal": "Sebuah layang-layang memiliki diagonal 16 cm dan 24 cm. Luas layang-layang tersebut adalah...",
      "jawaban": 192,
      "pilihan": [
        {"id": "soal001-nomor039-A", "nilai": 182},
        {"id": "soal001-nomor039-B", "nilai": 184},
        {"id": "soal001-nomor039-C", "nilai": 186},
        {"id": "soal001-nomor039-D", "nilai": 192}
      ]
    },
    {
      "id": "soal001-nomor040",
      "soal": "Sebuah belah ketupat memiliki diagonal 20 cm dan 30 cm. Luas belah ketupat tersebut adalah...",
      "jawaban": 300,
      "pilihan": [
        {"id": "soal001-nomor040-A", "nilai": 280},
        {"id": "soal001-nomor040-B", "nilai": 290},
        {"id": "soal001-nomor040-C", "nilai": 300},
        {"id": "soal001-nomor040-D", "nilai": 310}
      ]
    },
    {
      "id": "soal001-nomor041",
      "soal": "Data nilai ulangan: 7, 8, 6, 9, 7, 8, 7, 6, 8, 9. Modus dari data tersebut adalah...",
      "jawaban": 7,
      "pilihan": [
        {"id": "soal001-nomor041-A", "nilai": 6},
        {"id": "soal001-nomor041-B", "nilai": 7},
        {"id": "soal001-nomor041-C", "nilai": 8},
        {"id": "soal001-nomor041-D", "nilai": 9}
      ]
    },
    {
      "id": "soal001-nomor042",
      "soal": "Rata-rata nilai 8 siswa adalah 82. Jika nilai seorang siswa lainnya 90 digabungkan, rata-rata baru menjadi...",
      "jawaban": 83.0,
      "pilihan": [
        {"id": "soal001-nomor042-A", "nilai": 82.5},
        {"id": "soal001-nomor042-B", "nilai": 83.0},
        {"id": "soal001-nomor042-C", "nilai": 83.5},
        {"id": "soal001-nomor042-D", "nilai": 84.0}
      ]
    },
    {
      "id": "soal001-nomor043",
      "soal": "Data tinggi badan (cm): 145, 148, 150, 152, 155, 158, 160. Median dari data tersebut adalah...",
      "jawaban": 152,
      "pilihan": [
        {"id": "soal001-nomor043-A", "nilai": 150},
        {"id": "soal001-nomor043-B", "nilai": 152},
        {"id": "soal001-nomor043-C", "nilai": 155},
        {"id": "soal001-nomor043-D", "nilai": 158}
      ]
    },
    {
      "id": "soal001-nomor044",
      "soal": "Peluang munculnya mata dadu ganjil pada pelemparan sebuah dadu adalah...",
      "jawaban": "1/2",
      "pilihan": [
        {"id": "soal001-nomor044-A", "nilai": "1/6"},
        {"id": "soal001-nomor044-B", "nilai": "1/3"},
        {"id": "soal001-nomor044-C", "nilai": "1/2"},
        {"id": "soal001-nomor044-D", "nilai": "2/3"}
      ]
    },
    {
      "id": "soal001-nomor045",
      "soal": "Dalam sebuah kotak terdapat 4 bola merah, 3 bola biru, dan 3 bola hijau. Peluang terambil bola merah adalah...",
      "jawaban": "2/5",
      "pilihan": [
        {"id": "soal001-nomor045-A", "nilai": "2/5"},
        {"id": "soal001-nomor045-B", "nilai": "3/10"},
        {"id": "soal001-nomor045-C", "nilai": "2/5"},
        {"id": "soal001-nomor045-D", "nilai": "1/2"}
      ]
    },
    {
      "id": "soal001-nomor046",
      "soal": "Data penjualan buku selama seminggu: Senin=25, Selasa=30, Rabu=35, Kamis=40, Jumat=45, Sabtu=60. Rata-rata penjualan per hari adalah...",
      "jawaban": 39,
      "pilihan": [
        {"id": "soal001-nomor046-A", "nilai": 35},
        {"id": "soal001-nomor046-B", "nilai": 37},
        {"id": "soal001-nomor046-C", "nilai": 39},
        {"id": "soal001-nomor046-D", "nilai": 41}
      ]
    },
    {
      "id": "soal001-nomor047",
      "soal": "Diagram batang menunjukkan jumlah pengunjung perpustakaan: Senin=40, Selasa=35, Rabu=50, Kamis=45, Jumat=55. Selisih pengunjung terbanyak dan tersedikit adalah...",
      "jawaban": 20,
      "pilihan": [
        {"id": "soal001-nomor047-A", "nilai": 15},
        {"id": "soal001-nomor047-B", "nilai": 20},
        {"id": "soal001-nomor047-C", "nilai": 25},
        {"id": "soal001-nomor047-D", "nilai": 30}
      ]
    },
    {
      "id": "soal001-nomor048",
      "soal": "Data usia: 10, 11, 12, 10, 11, 13, 12, 11, 10, 12. Modus dari data tersebut adalah...",
      "jawaban": "10, 11, dan 12",
      "pilihan": [
        {"id": "soal001-nomor048-A", "nilai": 10},
        {"id": "soal001-nomor048-B", "nilai": 11},
        {"id": "soal001-nomor048-C", "nilai": 12},
        {"id": "soal001-nomor048-D", "nilai": 13}
      ]
    },
    {
      "id": "soal001-nomor049",
      "soal": "Rata-rata dari data: 15, 18, 20, 22, 25 adalah...",
      "jawaban": 20,
      "pilihan": [
        {"id": "soal001-nomor049-A", "nilai": 18},
        {"id": "soal001-nomor049-B", "nilai": 19},
        {"id": "soal001-nomor049-C", "nilai": 20},
        {"id": "soal001-nomor049-D", "nilai": 21}
      ]
    },
    {
      "id": "soal001-nomor050",
      "soal": "Dalam sebuah kantong terdapat 5 kelereng merah, 4 kelereng biru, dan 6 kelereng hijau. Peluang terambil kelereng biru adalah...",
      "jawaban": "4/15",
      "pilihan": [
        {"id": "soal001-nomor050-A", "nilai": "4/15"},
        {"id": "soal001-nomor050-B", "nilai": "1/3"},
        {"id": "soal001-nomor050-C", "nilai": "2/5"},
        {"id": "soal001-nomor050-D", "nilai": "3/5"}
                    ]
                }
            ]
        };
        
        this.jawabanUser = {};
        this.soalDijawab = 0;
        this.quizSubmitted = false;
        this.userData = {};
        this.timerInterval = null;
        this.currentSoalIndex = 0;
        this.totalSoal = this.soalData.soal.length;
        this.timeLeft = 2 * 60 * this.totalSoal;
        this.init();
    }

    init() {
        this.setupEventListeners();
    }

    // Method untuk mengacak array (Fisher-Yates shuffle)
    acakArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }

    setupEventListeners() {
        document.getElementById('form-identitas').addEventListener('submit', (e) => {
            e.preventDefault();
            this.mulaiKuis();
        });

        document.getElementById('submit-btn').addEventListener('click', () => {
            this.kumpulkanJawaban();
        });

        document.getElementById('retry-btn').addEventListener('click', () => {
            this.ulangiKuis();
        });

        document.getElementById('certificate-btn').addEventListener('click', () => {
            this.downloadSertifikat();
        });
    }

    setupNavigasi() {
        document.getElementById('prev-btn').addEventListener('click', () => {
            this.previousSoal();
        });
        
        document.getElementById('next-btn').addEventListener('click', () => {
            this.nextSoal();
        });
    }

    mulaiKuis() {
        const nama = document.getElementById('nama').value;
        const sekolah = document.getElementById('sekolah').value;
        
        this.userData = { nama, sekolah };
        
        document.getElementById('identitas-container').classList.add('hidden');
        document.getElementById('loading').classList.remove('hidden');
        
        this.setJudulKuis();
        
        setTimeout(() => {
            document.getElementById('loading').classList.add('hidden');
            
            // Tampilkan semua elemen yang diperlukan
            document.getElementById('info-peserta').classList.remove('hidden');
            document.getElementById('participant-name').textContent = this.userData.nama;
            document.getElementById('participant-school').textContent = this.userData.sekolah;
            
            document.getElementById('sticky-header').classList.remove('hidden');
            document.getElementById('soal-container').classList.remove('hidden');
            document.getElementById('submit-btn').classList.remove('hidden');
            
            this.renderSoalSatuPerSatu();
            this.updateProgress();
            this.startTimer();
            this.setupNavigasi();
            this.updateNextButtonState(); // Update state tombol selanjutnya
        }, 1000);
    }

    renderSoalSatuPerSatu() {
        const container = document.getElementById('soal-container');
        container.innerHTML = '';
        
        // Render soal
        this.soalData.soal.forEach((soal, index) => {
            const soalElement = this.createSoalElement(soal, index);
            if (index !== this.currentSoalIndex) {
                soalElement.style.display = 'none';
            }
            container.appendChild(soalElement);
        });
        
        // Tambahkan navigasi
        const navigasiElement = document.createElement('div');
        navigasiElement.id = 'soal-navigasi';
        navigasiElement.className = 'soal-navigasi';
        navigasiElement.innerHTML = `
            <button id="prev-btn" class="nav-btn" disabled>⬅️ Sebelumnya</button>
            <div class="nav-info">
                Soal <span id="current-soal">1</span> dari <span id="total-soal">${this.totalSoal}</span>
            </div>
            <button id="next-btn" class="nav-btn" disabled>Selanjutnya ➡️</button>
        `;
        container.appendChild(navigasiElement);
        
        this.updateNavigasi();
        this.updateNextButtonState(); // Update state tombol selanjutnya
    }

    // Method baru: Cek apakah soal saat ini sudah dijawab
    isCurrentSoalAnswered() {
        const currentSoal = this.soalData.soal[this.currentSoalIndex];
        return this.jawabanUser.hasOwnProperty(currentSoal.id);
    }

    // Method baru: Update state tombol selanjutnya
    updateNextButtonState() {
        const nextBtn = document.getElementById('next-btn');
        if (nextBtn) {
            const isAnswered = this.isCurrentSoalAnswered();
            const isLastSoal = this.currentSoalIndex === this.totalSoal - 1;
            
            // Nonaktifkan tombol selanjutnya jika belum dijawab DAN bukan soal terakhir
            // Untuk soal terakhir, biarkan aktif karena akan dikumpulkan via tombol submit
            nextBtn.disabled = !isAnswered && !isLastSoal;
            
            // Tambahkan tooltip jika disabled
            if (nextBtn.disabled) {
                nextBtn.title = "Pilih jawaban terlebih dahulu untuk melanjutkan";
            } else {
                nextBtn.title = "";
            }
        }
    }

    startTimer() {
        this.updateTimerDisplay();
        
        this.timerInterval = setInterval(() => {
            this.timeLeft--;
            this.updateTimerDisplay();
            
            if (this.timeLeft <= 0) {
                this.waktuHabis();
            }
            
            const totalWaktu = 2 * 60 * this.totalSoal;
            if (this.timeLeft <= totalWaktu * 0.1) {
                this.showTimeWarning();
            }
        }, 1000);
    }

    updateTimerDisplay() {
        const minutes = Math.floor(this.timeLeft / 60);
        const seconds = this.timeLeft % 60;
        
        document.getElementById('timer-minutes').textContent = minutes.toString().padStart(2, '0');
        document.getElementById('timer-seconds').textContent = seconds.toString().padStart(2, '0');
        
        if (this.timeLeft <= 5 * 60) {
            document.getElementById('timer-minutes').classList.add('timer-warning');
            document.getElementById('timer-seconds').classList.add('timer-warning');
        } else {
            document.getElementById('timer-minutes').classList.remove('timer-warning');
            document.getElementById('timer-seconds').classList.remove('timer-warning');
        }
    }

    showTimeWarning() {
        console.log('Waktu tinggal 10%!');
    }

    waktuHabis() {
        clearInterval(this.timerInterval);
        alert('Waktu pengerjaan telah habis! Jawaban akan dikumpulkan otomatis.');
        this.kumpulkanJawaban();
    }

    setJudulKuis() {
        const judulElement = document.getElementById('judul-kuis');
        judulElement.innerHTML = `📊 ${this.soalData["judul-soal001"]}`;
    }

    updateNavigasi() {
        document.getElementById('current-soal').textContent = this.currentSoalIndex + 1;
        document.getElementById('total-soal').textContent = this.totalSoal;
        
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        
        prevBtn.disabled = this.currentSoalIndex === 0;
        // nextBtn.disabled logic dipindah ke updateNextButtonState()
        
        const progress = ((this.currentSoalIndex + 1) / this.totalSoal) * 100;
        document.getElementById('progress-fill').style.width = `${progress}%`;
        document.getElementById('progress-text').textContent = `${this.currentSoalIndex + 1}/${this.totalSoal}`;
        
        // Update state tombol selanjutnya
        this.updateNextButtonState();
    }

    nextSoal() {
        if (this.currentSoalIndex < this.totalSoal - 1 && this.isCurrentSoalAnswered()) {
            const currentSoal = document.querySelector(`[data-soal-index="${this.currentSoalIndex}"]`);
            if (currentSoal) {
                currentSoal.style.display = 'none';
            }
            
            this.currentSoalIndex++;
            const nextSoal = document.querySelector(`[data-soal-index="${this.currentSoalIndex}"]`);
            if (nextSoal) {
                nextSoal.style.display = 'block';
            }
            
            this.updateNavigasi();
            this.scrollToSoal();
        }
    }

    previousSoal() {
        if (this.currentSoalIndex > 0) {
            const currentSoal = document.querySelector(`[data-soal-index="${this.currentSoalIndex}"]`);
            if (currentSoal) {
                currentSoal.style.display = 'none';
            }
            
            this.currentSoalIndex--;
            const prevSoal = document.querySelector(`[data-soal-index="${this.currentSoalIndex}"]`);
            if (prevSoal) {
                prevSoal.style.display = 'block';
            }
            
            this.updateNavigasi();
            this.scrollToSoal();
        }
    }

    scrollToSoal() {
        const currentSoal = document.querySelector(`[data-soal-index="${this.currentSoalIndex}"]`);
        if (currentSoal) {
            currentSoal.scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
    }

    createSoalElement(soal, index) {
        const pilihanAcak = this.acakArray(soal.pilihan);
        
        const div = document.createElement('div');
        div.className = 'soal-item';
        div.setAttribute('data-soal-index', index);
        div.innerHTML = `
            <div class="soal-number">Soal ${index + 1}</div>
            <div class="soal-text">${soal.soal}</div>
            <div class="pilihan-container">
                ${pilihanAcak.map(pilihan => `
                    <div class="pilihan-item">
                        <input type="radio" 
                               name="jawaban-${soal.id}" 
                               value="${pilihan.nilai}" 
                               id="${pilihan.id}"
                               ${this.jawabanUser[soal.id] === pilihan.nilai ? 'checked' : ''}>
                        <label for="${pilihan.id}" class="pilihan-label">
                            ${pilihan.nilai}
                        </label>
                    </div>
                `).join('')}
            </div>
            <div class="feedback" id="feedback-${soal.id}"></div>
        `;

        const radios = div.querySelectorAll(`input[name="jawaban-${soal.id}"]`);
        radios.forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (!this.quizSubmitted) {
                    this.jawabanUser[soal.id] = parseInt(e.target.value);
                    this.updateProgress();
                    this.updateNextButtonState(); // Update tombol selanjutnya ketika jawaban dipilih
                }
            });
        });

        return div;
    }

    updateProgress() {
        this.soalDijawab = Object.keys(this.jawabanUser).length;
        const totalSoal = this.soalData.soal.length;
        const progress = (this.soalDijawab / totalSoal) * 100;

        document.getElementById('progress-fill').style.width = `${progress}%`;
        document.getElementById('progress-text').textContent = `${this.soalDijawab}/${totalSoal}`;

        document.getElementById('submit-btn').disabled = this.soalDijawab < totalSoal;
    }

    kumpulkanJawaban() {
    // Tampilkan custom modal konfirmasi
    this.tampilkanModalKonfirmasi();
}

tampilkanModalKonfirmasi() {
    const modal = document.getElementById('confirm-modal');
    const confirmedAnswered = document.getElementById('confirmed-answered');
    const confirmedTotal = document.getElementById('confirmed-total');
    const confirmCancel = document.getElementById('confirm-cancel');
    const confirmSubmit = document.getElementById('confirm-submit');
    
    // Update data di modal
    confirmedAnswered.textContent = this.soalDijawab;
    confirmedTotal.textContent = this.totalSoal;
    
    // Tampilkan modal
    modal.classList.remove('hidden');
    
    // Setup event listeners untuk tombol modal
    const handleConfirm = () => {
        this.sembunyikanModalKonfirmasi();
        this.prosesPengumpulan();
    };
    
    const handleCancel = () => {
        this.sembunyikanModalKonfirmasi();
    };
    
    // Hapus event listeners sebelumnya (jika ada)
    confirmSubmit.replaceWith(confirmSubmit.cloneNode(true));
    confirmCancel.replaceWith(confirmCancel.cloneNode(true));
    
    // Tambah event listeners baru
    document.getElementById('confirm-submit').addEventListener('click', handleConfirm);
    document.getElementById('confirm-cancel').addEventListener('click', handleCancel);
    
    // ESC key untuk close modal
    const handleEscKey = (e) => {
        if (e.key === 'Escape') {
            this.sembunyikanModalKonfirmasi();
        }
    };
    
    document.addEventListener('keydown', handleEscKey);
    this.currentEscHandler = handleEscKey;
}

sembunyikanModalKonfirmasi() {
    const modal = document.getElementById('confirm-modal');
    modal.classList.add('hidden');
    
    // Hapus event listener ESC
    if (this.currentEscHandler) {
        document.removeEventListener('keydown', this.currentEscHandler);
        this.currentEscHandler = null;
    }
}

prosesPengumpulan() {
    // PROSES PENGGUMPULAN ASLI (kode yang sebelumnya di kumpulkanJawaban)
    if (this.timerInterval) {
        clearInterval(this.timerInterval);
    }
    
    this.quizSubmitted = true;
    const results = this.hitungSkor();
    
    this.nonaktifkanSoal();
    this.tampilkanFeedback();
    
    document.getElementById('submit-btn').classList.add('hidden');
    document.getElementById('sticky-header').classList.add('hidden');
    document.getElementById('info-peserta').classList.add('hidden');
    document.getElementById('soal-container').classList.add('hidden');
    document.getElementById('soal-navigasi').classList.add('hidden');
    
    document.querySelector('.main-content').classList.add('quiz-completed');
    
    this.tampilkanHasil(results);
    this.scrollToResults();
}

    scrollToResults() {
        const resultsBox = document.getElementById('results-box');
        resultsBox.scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
        });
    }

    nonaktifkanSoal() {
        const soalItems = document.querySelectorAll('.soal-item');
        soalItems.forEach(item => {
            item.classList.add('disabled');
        });
        
        const semuaRadio = document.querySelectorAll('input[type="radio"]');
        semuaRadio.forEach(radio => {
            radio.disabled = true;
        });
    }

    tampilkanFeedback() {
        this.soalData.soal.forEach(soal => {
            const feedbackElement = document.getElementById(`feedback-${soal.id}`);
            const userAnswer = this.jawabanUser[soal.id];
            
            if (userAnswer === soal.jawaban) {
                feedbackElement.textContent = '✅ Jawaban Anda benar!';
                feedbackElement.className = 'feedback correct';
            } else {
                feedbackElement.textContent = `❌ Jawaban salah. Jawaban yang benar adalah ${soal.jawaban}`;
                feedbackElement.className = 'feedback incorrect';
            }
        });
    }

    hitungSkor() {
        let correct = 0;
        const results = [];

        this.soalData.soal.forEach(soal => {
            const userAnswer = this.jawabanUser[soal.id];
            const isCorrect = userAnswer === soal.jawaban;
            
            if (isCorrect) correct++;
            
            results.push({
                soal: soal.soal,
                userAnswer: userAnswer,
                correctAnswer: soal.jawaban,
                isCorrect: isCorrect
            });
        });

        return {
            correct: correct,
            total: this.soalData.soal.length,
            percentage: Math.round((correct / this.soalData.soal.length) * 100),
            details: results
        };
    }

    tampilkanHasil(results) {
        const resultsBox = document.getElementById('results-box');
        const scoreValue = document.getElementById('score-value');
        const statCorrect = document.getElementById('stat-correct');
        const statIncorrect = document.getElementById('stat-incorrect');
        const resultQuizTitle = document.getElementById('result-quiz-title');
        const resultName = document.getElementById('result-name');
        const resultSchool = document.getElementById('result-school');
        const performanceFill = document.getElementById('performance-fill');
        
        scoreValue.textContent = results.percentage;
        statCorrect.textContent = results.correct;
        statIncorrect.textContent = results.total - results.correct;
        resultQuizTitle.textContent = this.soalData["judul-soal001"];
        resultName.textContent = this.userData.nama;
        resultSchool.textContent = this.userData.sekolah;
        
        setTimeout(() => {
            performanceFill.style.width = `${results.percentage}%`;
        }, 500);
        
        resultsBox.classList.remove('hidden');
        this.tampilkanDetailHasil(results.details);
        document.getElementById('action-buttons').classList.remove('hidden');

        // Scroll ke atas untuk memastikan semua konten terlihat
        setTimeout(() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 100);

        if (results.percentage >= 80) {
            this.celebrate();
        }
    }

    tampilkanDetailHasil(details) {
        const detailContainer = document.getElementById('detail-results');
        let html = '<h3>Detail Jawaban:</h3>';
        
        details.forEach((detail, index) => {
            const isCorrect = detail.isCorrect;
            const statusClass = isCorrect ? 'correct' : 'incorrect';
            const statusIcon = isCorrect ? '✅' : '❌';
            const userAnswerText = detail.userAnswer !== undefined ? detail.userAnswer : 'Tidak dijawab';
            
            html += `
                <div class="detail-item ${statusClass}">
                    <div class="detail-question">${statusIcon} Soal ${index + 1}: ${detail.soal}</div>
                    <div class="detail-answer ${statusClass}">
                        Jawaban Anda: <strong>${userAnswerText}</strong> | 
                        Jawaban Benar: <strong>${detail.correctAnswer}</strong>
                    </div>
                </div>
            `;
        });
        
        detailContainer.innerHTML = html;
        detailContainer.classList.remove('hidden');
    }

    downloadSertifikat() {
        const canvas = document.getElementById('certificate-canvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = 1200;
        canvas.height = 800;
        
        const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
        gradient.addColorStop(0, '#667eea');
        gradient.addColorStop(1, '#764ba2');
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
        ctx.lineWidth = 10;
        ctx.strokeRect(50, 50, canvas.width - 100, canvas.height - 100);
        
        ctx.fillStyle = 'white';
        ctx.font = 'bold 48px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('SERTIFIKAT PENGHARGAAN', canvas.width / 2, 150);
        
        ctx.font = '28px Arial';
        ctx.fillText('Atas Partisipasi Dalam', canvas.width / 2, 200);
        
        ctx.font = 'bold 36px Arial';
        ctx.fillText(this.soalData["judul-soal001"], canvas.width / 2, 250);
        
        ctx.font = 'bold 42px Arial';
        ctx.fillText(this.userData.nama, canvas.width / 2, 350);
        
        ctx.font = '28px Arial';
        ctx.fillText(this.userData.sekolah, canvas.width / 2, 400);
        
        const results = this.hitungSkor();
        ctx.font = 'bold 72px Arial';
        ctx.fillStyle = '#ffd700';
        ctx.fillText(`NILAI: ${results.percentage}`, canvas.width / 2, 500);
        
        ctx.fillStyle = 'white';
        ctx.font = '24px Arial';
        ctx.fillText(`Jawaban Benar: ${results.correct} dari ${results.total} soal`, canvas.width / 2, 550);
        
        ctx.font = '18px Arial';
        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
        ctx.fillText('Dibuat oleh Bimbel Brilian - www.bimbelbrilian.com', canvas.width / 2, 620);
        
        const today = new Date().toLocaleDateString('id-ID', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        ctx.font = '20px Arial';
        ctx.fillStyle = 'white';
        ctx.fillText(`Tanggal: ${today}`, canvas.width / 2, 680);
        
        const link = document.createElement('a');
        link.download = `Sertifikat-${this.userData.nama}.png`;
        link.href = canvas.toDataURL();
        link.click();
    }

    celebrate() {
        const colors = ['#4facfe', '#00f2fe', '#667eea', '#764ba2', '#ffd700', '#ff6b6b'];
        const container = document.querySelector('.container');
        
        for (let i = 0; i < 50; i++) {
            setTimeout(() => {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 10 + 5}px;
                    height: ${Math.random() * 10 + 5}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
                    top: -20px;
                    left: ${Math.random() * 100}%;
                    animation: confetti-fall ${Math.random() * 3 + 2}s ease-in forwards;
                    z-index: 1000;
                    transform: rotate(${Math.random() * 360}deg);
                `;
                container.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
            }, i * 100);
        }
    }

    ulangiKuis() {
        this.jawabanUser = {};
        this.soalDijawab = 0;
        this.quizSubmitted = false;
        this.currentSoalIndex = 0;
        this.timeLeft = 2 * 60 * this.soalData.soal.length;
        
        if (this.timerInterval) {
            clearInterval(this.timerInterval);
        }
        
        document.getElementById('results-box').classList.add('hidden');
        document.getElementById('detail-results').classList.add('hidden');
        document.getElementById('action-buttons').classList.add('hidden');
        document.getElementById('soal-container').classList.add('hidden');
        document.getElementById('soal-navigasi').classList.add('hidden');
        document.getElementById('sticky-header').classList.add('hidden');
        
        document.querySelector('.main-content').classList.remove('quiz-completed');
        
        document.getElementById('progress-fill').style.width = '0%';
        document.getElementById('progress-text').textContent = `0/${this.totalSoal}`;
        
        const initialMinutes = Math.floor(this.timeLeft / 60);
        document.getElementById('timer-minutes').textContent = initialMinutes.toString().padStart(2, '0');
        document.getElementById('timer-seconds').textContent = '00';
        document.getElementById('timer-minutes').classList.remove('timer-warning');
        document.getElementById('timer-seconds').classList.remove('timer-warning');
        
        document.getElementById('identitas-container').classList.remove('hidden');
        document.getElementById('form-identitas').reset();
        document.getElementById('submit-btn').disabled = true;
    }
}

// Tambahkan method roundRect untuk Canvas
if (!CanvasRenderingContext2D.prototype.roundRect) {
    CanvasRenderingContext2D.prototype.roundRect = function(x, y, w, h, r) {
        if (w < 2 * r) r = w / 2;
        if (h < 2 * r) r = h / 2;
        this.beginPath();
        this.moveTo(x + r, y);
        this.arcTo(x + w, y, x + w, y + h, r);
        this.arcTo(x + w, y + h, x, y + h, r);
        this.arcTo(x, y + h, x, y, r);
        this.arcTo(x, y, x + w, y, r);
        this.closePath();
        return this;
    }
}

const confettiStyle = document.createElement('style');
confettiStyle.textContent = `
    @keyframes confetti-fall {
        0% {
            transform: translateY(0) rotate(0deg);
            opacity: 1;
        }
        70% {
            opacity: 0.8;
        }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }
    
    .nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`;
document.head.appendChild(confettiStyle);

document.addEventListener('DOMContentLoaded', () => {
    new KuisMatematika();
});